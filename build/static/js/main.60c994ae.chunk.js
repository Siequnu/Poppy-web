(this["webpackJsonpworld-project-holdings"]=this["webpackJsonpworld-project-holdings"]||[]).push([[0],{128:function(e,t,n){},220:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},258:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){},271:function(e,t,n){},272:function(e,t,n){},273:function(e,t,n){},274:function(e,t,n){},275:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(47),c=n.n(s),i=(n(220),n(8)),o=n(20),l=n(25),u=n(115),d=n(186),j=n(17),h=n.n(j),b=n(22),p=n(350);function m(){var e=y.currentUserValue;return e&&e.access_token?{Authorization:"Bearer ".concat(e.access_token)}:{}}function f(){var e=y.currentUserValue;return e&&e.access_token?e.access_token:{}}function O(){var e=y.currentUserValue;return!(!e||!e.refresh_token)&&e.refresh_token}function x(e){return e.text().then((function(t){var n=t&&JSON.parse(t);if(!e.ok){-1!==[401,403].indexOf(e.status)&&y.logout();var a=n&&n.error||e.statusText;return Promise.reject(a)}return n}))}var g={authLogin:"/auth/login",authRefresh:"/auth/refresh",afterLogout:"/login",resetWithToken:"/auth/reset/token",authSignUp:"/auth/register",authValidate:"/auth/validate",confirmEmail:"/auth/confirm",userProfileUrl:"/auth/profile",getRoles:"/auth/roles",getUsers:"/auth/users/get"},v=new p.a(JSON.parse(localStorage.getItem("currentUser"))),y={login:function(e,t){return w.apply(this,arguments)},logout:function(){localStorage.removeItem("currentUser"),v.next(null)},signUp:function(e,t,n){return S.apply(this,arguments)},updateUser:function(e){localStorage.setItem("currentUser",JSON.stringify(e)),v.next(e)},validateRegistration:function(e,t){return k.apply(this,arguments)},confirmEmail:function(e){return N.apply(this,arguments)},currentUser:v.asObservable(),get currentUserValue(){return v.value}};function w(){return(w=Object(b.a)(h.a.mark((function e(t,n){var a,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})},e.next=3,fetch(g.authLogin,a);case 3:return r=e.sent,e.next=6,x(r);case 6:return s=e.sent,localStorage.setItem("currentUser",JSON.stringify(s)),v.next(s),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(b.a)(h.a.mark((function e(t,n,a){var r,s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:a,email:n})},e.next=3,fetch(g.authSignUp,r);case 3:return s=e.sent,e.next=6,x(s);case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(b.a)(h.a.mark((function e(t,n){var a,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,email:n})},e.next=3,fetch(g.authValidate,a);case 3:return r=e.sent,e.next=6,x(r);case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})},e.next=3,fetch(g.confirmEmail,n);case 3:return a=e.sent,e.next=6,x(a);case 6:if(!e.sent.hasOwnProperty("success")){e.next=11;break}return e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=n(78),U=n.n(C);function T(e,t){return A.apply(this,arguments)}function A(){return(A=Object(b.a)(h.a.mark((function e(t,n){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.post(t,n,{headers:m()});case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var P=n(1),B=["component"],I=function(e){var t=e.component,n=Object(d.a)(e,B);return Object(P.jsx)(l.b,Object(u.a)(Object(u.a)({},n),{},{render:function(e){return y.currentUserValue?Object(P.jsx)(t,Object(u.a)({},e)):Object(P.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},W=(n(128),n(50)),E=n(141),_=n(74);var q=Object(l.h)((function(e){var t=r.a.useContext(st).setSnackbar;y.currentUserValue&&e.history.push("/app");var n=Object(W.a)({initialValues:{username:"",password:""},onSubmit:function(n){y.login(n.username,n.password).then((function(a){var r=(e.location.state||{from:{pathname:"/"}}).from;e.history.push(r),t({text:"Welcome, ".concat(n.username),open:!0,severity:"success"})})).catch((function(e){t({text:e||"An error occured.",open:!0,severity:"error"})}))}});return Object(P.jsx)("div",{className:"AuthForm",children:Object(P.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(P.jsx)(E.a,{fullWidth:!0,variant:"standard",id:"username",name:"username",label:"Username",value:n.values.username,onChange:n.handleChange,error:n.touched.username&&Boolean(n.errors.username)}),Object(P.jsx)(E.a,{fullWidth:!0,id:"password",variant:"standard",name:"password",label:"Password",type:"password",value:n.values.password,onChange:n.handleChange,error:n.touched.password&&Boolean(n.errors.password),helperText:n.touched.password&&n.errors.password}),Object(P.jsx)(_.a,{className:"SubmitButton",color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:"Submit"}),Object(P.jsx)(_.a,{component:o.b,to:"/reset",className:"ResetPasswordButton",children:"Forgot password"}),Object(P.jsx)(_.a,{component:o.b,to:"/register",children:"New account"})]})})}));var F=Object(l.h)((function(e){var t=r.a.useContext(st).setSnackbar;return Object(P.jsx)(_.a,{variant:"contained",onClick:function(){return t({text:"You have logged out.",open:!0,severity:"success"}),y.logout(),void e.history.push(g.afterLogout)},children:"Logout"})}));var D=Object(l.h)((function(e){var t=r.a.useContext(st).setSnackbar,n=Object(l.g)().token,a=Object(W.a)({initialValues:{password:""},onSubmit:function(a){a.token=n,fetch(g.resetWithToken,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){if(n.hasOwnProperty("error"))throw n.error;t({text:n.success,open:!0,severity:"success"}),e.history.push("/login")})).catch((function(e){t({text:e,open:!0,severity:"error"})}))}});return Object(P.jsx)("div",{className:"AuthForm",children:Object(P.jsxs)("form",{onSubmit:a.handleSubmit,children:[Object(P.jsx)(E.a,{fullWidth:!0,variant:"standard",id:"password",name:"password",label:"New password",type:"password",value:a.values.password,onChange:a.handleChange,error:a.touched.password&&Boolean(a.errors.password),helperText:a.touched.password&&a.errors.password}),Object(P.jsx)(_.a,{variant:"contained",fullWidth:!0,type:"submit",children:"Set new password"})]})})}));var L=Object(l.h)((function(e){var t=r.a.useContext(st).setSnackbar,n=Object(W.a)({initialValues:{email:""},onSubmit:function(n){fetch("/auth/reset",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){if(n.hasOwnProperty("error"))throw n.error;t({text:n.success,open:!0,severity:"success"}),e.history.push("login")})).catch((function(e){t({text:e,open:!0,severity:"error"})}))}});return Object(P.jsx)("div",{className:"AuthForm",children:Object(P.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(P.jsx)(E.a,{fullWidth:!0,variant:"standard",id:"email",name:"email",label:"Email",type:"email",value:n.values.email,onChange:n.handleChange,error:n.touched.email&&Boolean(n.errors.email),helperText:n.touched.email&&n.errors.email}),Object(P.jsx)(_.a,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:"Send password reset email"}),Object(P.jsx)(_.a,{component:o.b,to:"/login",children:"Back to Login"})]})})}));var V,z=Object(l.h)((function(e){var t=r.a.useContext(st).setSnackbar;y.currentUserValue&&e.history.push("/");var n=function(){var e=Object(b.a)(h.a.mark((function e(n,a){var r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.validateRegistration(n.username,n.email);case 2:return r=e.sent,s={},["admin","null","god"].includes(n.username)&&(s.username="Please choose a different username"),r.username_exists&&(s.username="This username is already taken"),r.email_exists&&(s.email="This email is already registered"),Object.entries(s).map((function(e){return t({text:e.pop(),open:!0,severity:"warning"}),!0})),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a=Object(W.a)({initialValues:{username:"",email:"",password:""},onSubmit:function(n){y.signUp(n.username,n.email,n.password).then((function(a){e.history.push("/login"),t({text:"An email has been sent to ".concat(n.email,". Please open it to continue."),open:!0,severity:"success"})}))},validate:n});return Object(P.jsx)("div",{className:"AuthForm",children:Object(P.jsxs)("form",{onSubmit:a.handleSubmit,children:[Object(P.jsx)(E.a,{fullWidth:!0,variant:"standard",id:"username",name:"username",label:"Username",value:a.values.username,onChange:a.handleChange,error:a.touched.username&&Boolean(a.errors.username)}),Object(P.jsx)(E.a,{fullWidth:!0,variant:"standard",id:"email",name:"email",label:"Email",value:a.values.email,onChange:a.handleChange,error:a.touched.email&&Boolean(a.errors.email)}),Object(P.jsx)(E.a,{fullWidth:!0,variant:"standard",id:"password",name:"password",label:"Password",type:"password",value:a.values.password,onChange:a.handleChange,error:a.touched.password&&Boolean(a.errors.password),helperText:a.touched.password&&a.errors.password}),Object(P.jsx)(_.a,{className:"SubmitButton",color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:"Submit"}),Object(P.jsx)(_.a,{component:o.b,to:"/login",className:"ResetPasswordButton",children:"Back to log-in"})]})})})),J=n(29),R=n(44),G=n(49),H=n.n(G);var M=Object(l.h)((function(e){var t=r.a.useContext(st).setSnackbar,n=Object(l.g)().token;y.confirmEmail(n).then((function(n){t({text:n?"Your email has been confirmed. You can now log-in.":"We could not confirm your email.",open:!0,severity:n?"success":"error"}),e.history.push("/login")}));var a=Object(R.css)(V||(V=Object(J.a)(["display: block; margin: 0 auto;"])));return Object(P.jsx)(H.a,{color:"#213459",loading:!0,css:a,size:100})})),Y=(n(255),n(59)),$=n(369),K=n(349),Q=n(348),X=(n(256),n(362)),Z=n(363),ee=n(172),te=n.n(ee),ne=n(110),ae=n.n(ne),re=n(173),se=n.n(re),ce=n(113);function ie(){var e=r.a.useState(0),t=Object(i.a)(e,2),n=t[0],a=t[1],s=r.a.useState("web"),c=Object(i.a)(s,2),l=c[0],u=c[1],d=function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.getInfo();case 2:t=e.sent,u(t.platform);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d(),Object(P.jsxs)(X.a,{value:n,onChange:function(e,t){a(t)},showLabels:!0,className:"navbar",style:{paddingBottom:"web"===l?"0":"20px",height:"web"===l?"auto":"80px"},children:[Object(P.jsx)(Z.a,{component:o.b,to:"/",label:"Poppy",icon:Object(P.jsx)(te.a,{})}),Object(P.jsx)(Z.a,{component:o.b,to:"/about",label:"Art",icon:Object(P.jsx)(ae.a,{})}),Object(P.jsx)(Z.a,{component:o.b,to:"/contact",label:"Inquiry",icon:Object(P.jsx)(se.a,{})})]})}var oe=n(364),le=(n(257),n(111)),ue=n.n(le);function de(e){var t=r.a.useState("web"),n=Object(i.a)(t,2),a=n[0],s=n[1],c=function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.getInfo();case 2:t=e.sent,s(t.platform);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c(),Object(P.jsxs)("div",{className:"TopBar",style:{paddingTop:"web"===a?"0":"35px",height:"75px"},children:[Object(P.jsx)(oe.a,{component:o.b,to:"/",className:"AccountLink",children:Object(P.jsx)("img",{className:"MyoLogo",src:"/apple-touch-icon.png",alt:"Myo app logo"})}),Object(P.jsx)("p",{className:"MyoText"}),Object(P.jsx)(oe.a,{component:o.b,to:"/user",className:"AccountLink",children:Object(P.jsx)(ue.a,{fontSize:"large",className:"AccountCircle"})})]})}n(258);function je(e){return Object(P.jsx)("div",{className:"PhotoDividerComponent",style:{backgroundImage:'url("'.concat(e.thumbnail,'"')}})}var he=n(174),be=n(176),pe=n.n(be),me=n(177),fe=n.n(me),Oe=n(175),xe=n.n(Oe);n(266);var ge=Object(l.h)((function(e){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h1",{children:"Poppy"}),Object(P.jsx)("a",{className:"ButtonLink",href:"https://opensea.io/POPPIES",children:Object(P.jsx)(_.a,{size:"Large",variant:"contained",endIcon:Object(P.jsx)(xe.a,{}),children:" Our OpenSea store"})}),Object(P.jsx)(je,{thumbnail:"/nft-background.jpeg",style:{margin:"200px",display:"block"}}),Object(P.jsx)(he.Element,{name:"about",className:"element",children:Object(P.jsxs)("div",{className:"secondary-text",children:[Object(P.jsx)("h2",{children:"We are an art collective"}),Object(P.jsxs)("div",{className:"icon-grid",children:[Object(P.jsxs)("div",{className:"icon-grid-item",children:[Object(P.jsx)(pe.a,{className:"icon"}),Object(P.jsx)("p",{children:"We are a small group of artists from 4 continents."})]}),Object(P.jsxs)("div",{className:"icon-grid-item",children:[Object(P.jsx)(ae.a,{className:"icon"}),Object(P.jsx)("p",{children:"We are commited to digital art."})]}),Object(P.jsxs)("div",{className:"icon-grid-item",children:[Object(P.jsx)(fe.a,{className:"icon"}),Object(P.jsx)("p",{children:"We seek to provoke, educate, and challenge."})]})]})]})}),Object(P.jsx)(je,{thumbnail:"/nft-background.jpeg",style:{margin:"200px",display:"block"}})]})}));n(267),n(268);function ve(){return Object(P.jsx)("div",{className:"SplashScreen",children:Object(P.jsx)("div",{className:"SplashScreenWrapper",children:Object(P.jsx)(a.Suspense,{children:Object(P.jsx)("img",{src:"apple-touch-icon.png",alt:"Poppy icon"})})})})}n(269),n(270);var ye,we=n(51),Se=n(178);var ke=Object(l.h)((function(e){var t=Object(we.b)(g.userProfileUrl).data,n=Object(R.css)(ye||(ye=Object(J.a)(["display: block; margin: 0 auto;"])));if(!t)return Object(P.jsx)(H.a,{color:"#213459",loading:!0,css:n,size:100});var a=y.currentUserValue,r=Object(Se.a)(a.access_token).admin;return Object(P.jsx)("div",{className:"UserHero",style:{backgroundImage:'url("'.concat("/assets/tsinghua1.jpeg",'"')},children:Object(P.jsxs)("div",{className:"UserHeroContent",style:{background:"linear-gradient(90deg, rgba(131,255,231,1) 40%, rgba(255,255,255,0) 90%)"},children:[e.maximised?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(F,{className:"UserHeroLink"}),r?Object(P.jsx)(_.a,{color:"primary",variant:"contained",onClick:function(){e.history.push("dashboard")},children:"Dashboard"}):null]}):null,Object(P.jsx)("h1",{children:t.username}),e.maximised?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("p",{children:[Object(P.jsx)(ue.a,{className:"Icon"})," Member since:"]}),Object(P.jsx)("p",{className:"caption",children:t.registered}),Object(P.jsx)("span",{className:"stamp is-nope",children:r?"Admin":"Member"})]}):null]})})})),Ne=n(43),Ce=n(194),Ue=n(352),Te=n(365),Ae=Object(Ne.a)({root:{flexGrow:1}});function Pe(e){var t=Ae();return Object(P.jsx)(Ce.a,{className:t.root,children:Object(P.jsx)(Ue.a,{value:e.currentTab,onChange:function(t,n){e.setCurrentTab(n)},indicatorColor:"primary",textColor:"primary",centered:!0,children:Object(P.jsx)(Te.a,{label:"My account"})})})}function Be(){var e=r.a.useState(0),t=Object(i.a)(e,2),n=t[0],a=t[1],s=r.a.useState(null),c=Object(i.a)(s,2),o=c[0],l=c[1];return r.a.useEffect((function(){l((function(){return Object(P.jsx)(ke,{maximised:!0})}))}),[n]),Object(P.jsxs)("div",{className:"UserMenu",children:[Object(P.jsx)(Pe,{currentTab:n,setCurrentTab:a}),o]})}n(271);function Ie(){return Object(P.jsx)("div",{className:"ViewActivitiesComponent",children:Object(P.jsx)("h1",{children:"Our art"})})}n(272);var We=n(180),Ee=n.n(We);var _e=function(e){return Object(P.jsx)("div",{className:"cardComponent",children:e.cards.map((function(t,n){return Object(P.jsxs)("div",{className:"card",style:{margin:e.margin},children:[Object(P.jsx)("div",{className:"card-image",children:Object(P.jsx)("img",{src:t.thumbnail,alt:"Header decoration"})}),Object(P.jsxs)("div",{className:"content",children:[Object(P.jsx)("h4",{children:t.title}),Object(P.jsx)("p",{children:t.description})]}),Object(P.jsx)("a",{href:t.url,className:"read-more",style:{textDecoration:"none"},children:Object(P.jsxs)("span",{children:["Download file ",Object(P.jsx)(Ee.a,{className:"chevron-right"})]})})]},n)}))})};n(273);function qe(e){return Object(P.jsx)("div",{className:"Hero",style:{backgroundImage:'url("'.concat(e.thumbnail,'"')},children:Object(P.jsxs)("div",{className:"HeroContent",style:{background:"linear-gradient(90deg, rgba(33,52,89,1) 35%, rgba(255,255,255,0) 64%)"},children:[Object(P.jsx)("h1",{children:e.title}),Object(P.jsx)("p",{children:e.description})]})})}function Fe(){return Object(P.jsxs)("div",{className:"ViewActivitiesComponent",children:[Object(P.jsx)(qe,{thumbnail:"/assets/tsinghua1.jpeg",title:"Documents",description:"World Project Holdings documents"}),Object(P.jsx)(_e,{cards:[{title:"Business, careers and companies",description:"Getting to grips with careers and business job vocabulary",thumbnail:"/thumbnails/bcp1.png",url:"/documents/Business, careers and companies.pdf"},{title:"SWOT analysis",description:"Thinking about strengths, weaknesses, threats and opportunities for your English",thumbnail:"/thumbnails/swot.png",url:"/documents/English SWOT analysis.pdf"},{title:"GAAP",description:"GAAP vocab exercises",thumbnail:"/thumbnails/gaap.png",url:"/documents/GAAP and finance vocab.pdf"},{title:"Graph description",description:"Describing trends",thumbnail:"/thumbnails/finance.png",url:"/documents/Graph description, trends and finance vocab.pdf"},{title:"Case study: London brain drain",description:"Understanding and projecting solutions to a problem",thumbnail:"/thumbnails/case_study.png",url:"/documents/Handout 4 - London brain-drain.pages.pdf"}]})]})}n(274);var De=n(181);function Le(){var e=r.a.useContext(st).setSnackbar,t=window.innerWidth,n=window.innerHeight,a=r.a.useState(!0),s=Object(i.a)(a,2),c=s[0],o=s[1],l=r.a.useState(!1),u=Object(i.a)(l,2),d=u[0],j=u[1],h=r.a.useState(!1),b=Object(i.a)(h,2),p=b[0],m=b[1];r.a.useEffect((function(){p&&(j(!0),setTimeout((function(){o(!1)}),3e3),setTimeout((function(){j(!1)}),1e4))}),[p]);var f=Object(W.a)({enableReinitialize:!0,initialValues:{name:"",email:"",inquiry:""},onSubmit:function(t){!function(t){m(!0),T("/api/inquiries/add",t).then((function(t){return e({text:t.success||t.error,open:!0,severity:t.success?"success":"error"})}))}(t)}});return p?Object(P.jsxs)("div",{children:[Object(P.jsx)(De.a,{width:t,height:n,run:d,recycle:c}),Object(P.jsx)("h1",{children:"Let's talk soon."})]}):Object(P.jsxs)("div",{children:[Object(P.jsx)("h1",{children:"Get in touch!"}),Object(P.jsxs)("form",{onSubmit:f.handleSubmit,style:{margin:"20px"},children:[Object(P.jsx)(E.a,{id:"name",name:"name",variant:"standard",label:"Your name",value:f.values.name,onChange:f.handleChange}),Object(P.jsx)(E.a,{id:"email",variant:"standard",name:"email",label:"Your email",value:f.values.email,onChange:f.handleChange}),Object(P.jsx)(E.a,{fullWidth:!0,id:"inquiry",variant:"standard",name:"inquiry",label:"Your inquiry",value:f.values.inquiry,onChange:f.handleChange}),Object(P.jsx)(_.a,{variant:"contained",color:"primary",type:"submit",style:{margin:"20px"},children:"Submit"})]})]})}var Ve=Object(Ne.a)({root:{flexGrow:1}});function ze(e){var t=Ve();return Object(P.jsx)(Ce.a,{className:t.root,children:Object(P.jsxs)(Ue.a,{value:e.currentTab,onChange:function(t,n){e.setCurrentTab(n)},indicatorColor:"primary",textColor:"primary",centered:!0,children:[Object(P.jsx)(Te.a,{label:"Users"}),Object(P.jsx)(Te.a,{label:"Feedback"})]})})}var Je,Re=n(112);function Ge(){var e=Object(R.css)(Je||(Je=Object(J.a)(["display: block; margin: 0 auto;"]))),t=Object(we.b)(g.getUsers,{refreshInterval:2}).data;return t?Object(P.jsxs)("div",{className:"DashboardUsers",children:[Object(P.jsx)("h1",{children:"Users"}),Object(P.jsx)("div",{className:"DataGridContainer",style:{height:"600px"},children:Object(P.jsx)(Re.a,{autoPageSize:!0,rows:t,columns:[{field:"id",headerName:"ID",width:70},{field:"username",headerName:"Username",width:200},{field:"registered",headerName:"Registered",width:300},{field:"last_seen",headerName:"Last seen",width:300}],pageSize:10,className:"UsersGrid"})})]}):Object(P.jsx)(H.a,{color:"#10253E",loading:!0,css:e,size:100})}var He,Me,Ye=n(184),$e=n.n(Ye),Ke=n(359),Qe=n(366),Xe=n(367),Ze=n(368);function et(e){var t=function(){e.onClose()};return Object(P.jsxs)(Ke.a,{open:e.open,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(P.jsx)(Qe.a,{children:Object(P.jsxs)(Xe.a,{id:"alert-dialog-description",children:["Are you sure you want to delete this inquiry from ",e.inquiry.name,"?"]})}),Object(P.jsxs)(Ze.a,{children:[Object(P.jsx)(_.a,{onClick:t,color:"primary",children:"Cancel"}),Object(P.jsx)(_.a,{onClick:function(){e.onConfirm(e.inquiry.id)},color:"primary",autoFocus:!0,children:"Delete"})]})]})}function tt(){var e=r.a.useContext(st).setSnackbar,t=r.a.useState({}),n=Object(i.a)(t,2),a=n[0],s=n[1],c=r.a.useState(!1),o=Object(i.a)(c,2),l=o[0],u=o[1],d=[{field:"id",headerName:"ID",width:150},{field:"name",headerName:"Name",width:70},{field:"email",headerName:"Email",width:200},{field:"inquiry",headerName:"Inquiry",width:300},{field:"",headerName:"Actions",sortable:!1,width:120,disableClickEventBubbling:!0,renderCell:function(e){return Object(P.jsx)("div",{children:Object(P.jsx)(_.a,{onClick:function(){var t={};e.api.getAllColumns().map((function(e){return e.field})).filter((function(e){return"__check__"!==e&&!!e})).forEach((function(n){t[n]=e.row[n]})),s(t),u(!0)},children:Object(P.jsx)($e.a,{})})})}}],j=Object(R.css)(He||(He=Object(J.a)(["display: block; margin: 0 auto;"]))),h=Object(we.b)("/api/inquiries/get",{refreshInterval:2}),b=h.data,p=h.mutate;if(!b)return Object(P.jsx)(H.a,{color:"#10253E",loading:!0,css:j,size:100});var m=b.map((function(e){var t=JSON.parse(e.inquiry);return t.id=e.id,t}));return Object(P.jsxs)("div",{className:"DashboardUsers",children:[Object(P.jsx)(et,{inquiry:a,open:l,onConfirm:function(t){T("/api/inquiries/delete",{id:t}).then((function(t){return e({text:t.success||t.error,open:!0,severity:t.success?"success":"error"})})),u(!1),p()},onClose:function(){return u(!1)}}),Object(P.jsx)("h1",{children:"Inquiries"}),Object(P.jsx)("div",{className:"DataGridContainer",style:{height:"600px"},children:Object(P.jsx)(Re.a,{autoPageSize:!0,rows:m,columns:d,pageSize:20,className:"UsersGrid"})}),Object(P.jsx)(_.a,{onClick:function(){T("/api/inquiries/delete/all",{}).then((function(t){return e({text:t.success||t.error,open:!0,severity:t.success?"success":"error"})})),u(!1),p()},color:"primary",children:"Delete all"})]})}function nt(e){var t=r.a.useState(0),n=Object(i.a)(t,2),a=n[0],s=n[1],c=r.a.useState(null),o=Object(i.a)(c,2),u=o[0],d=o[1];r.a.useEffect((function(){d((function(){return 1===a?Object(P.jsx)(tt,{}):Object(P.jsx)(Ge,{})}))}),[a]);var j=Object(we.b)(g.getRoles).data,h=Object(R.css)(Me||(Me=Object(J.a)(["display: block; margin: 0 auto;"])));return j?j.admin?Object(P.jsxs)("div",{style:{height:"-webkit-fill-available",padding:"15px"},children:[Object(P.jsx)(ze,{currentTab:a,setCurrentTab:s}),u]}):Object(P.jsx)(l.a,{to:{pathname:"/",state:{from:e.location}}}):Object(P.jsx)(H.a,{color:"#213459",loading:!0,css:h,size:100})}var at=n(354),rt=n(353),st=r.a.createContext();function ct(){var e=r.a.useState(!0),t=Object(i.a)(e,2),n=t[0],s=t[1];Object(a.useEffect)((function(){setTimeout((function(){s(!1)}),1500)}),[]);var c=Object(Y.a)({palette:{mode:Object(Q.a)("(prefers-color-scheme: dark)")?"dark":"light",primary:{main:"#FD37AA"},secondary:{main:"#CAE8FF"}},typography:{h1:{fontFamily:["Bona Nova","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},fontFamily:["Assistant","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},components:{MuiTouchRipple:{styleOverrides:{child:{backgroundColor:"#FD37AA"}}}}}),u=r.a.useState({text:"",severity:"info",open:!1}),d=Object(i.a)(u,2),j=d[0],h=d[1],b=function(){h({open:!1})};return Object(P.jsxs)($.a,{theme:c,children:[Object(P.jsx)(K.a,{}),Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)("link",{rel:"shortcut icon",href:"./favicon.ico"}),Object(P.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),Object(P.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),Object(P.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"true"}),Object(P.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Assistant:wght@200;300;400;500;600&family=Bona+Nova:ital,wght@0,400;0,700;1,400&display=swap",rel:"stylesheet"}),Object(P.jsx)("header",{className:"App-header",children:Object(P.jsxs)(st.Provider,{value:{snackbar:j,setSnackbar:h},children:[Object(P.jsx)(at.a,{open:j.open,autoHideDuration:6e3,onClose:b,children:Object(P.jsx)(rt.a,{onClose:b,severity:j.severity,children:j.text})}),n?Object(P.jsx)(ve,{}):Object(P.jsxs)(o.a,{children:[Object(P.jsx)(de,{}),Object(P.jsx)("div",{className:"AppWrapper",children:Object(P.jsxs)(l.d,{children:[Object(P.jsxs)(l.b,{exact:!0,path:"/",children:[" ",Object(P.jsx)(ge,{})," "]}),Object(P.jsx)(l.b,{exact:!0,path:"/about",component:Ie}),Object(P.jsx)(l.b,{exact:!0,path:"/library",component:Fe}),Object(P.jsx)(l.b,{exact:!0,path:"/contact",component:Le}),Object(P.jsx)(I,{exact:!0,path:"/user",component:Be}),Object(P.jsx)(l.b,{exact:!0,path:"/login",component:q}),Object(P.jsx)(l.b,{exact:!0,path:"/logout",component:F}),Object(P.jsx)(l.b,{exact:!0,path:"/reset",component:L}),Object(P.jsx)(l.b,{exact:!0,path:"/register",component:z}),Object(P.jsx)(l.b,{exact:!0,path:"/confirm/:token",component:M}),Object(P.jsx)(l.b,{exact:!0,path:"/reset/:token",component:D}),Object(P.jsx)(I,{exact:!0,path:"/dashboard",component:nt})]})}),Object(P.jsx)(ie,{})]})]})})]})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));U.a.interceptors.response.use((function(e){return e}),(function(e){return new Promise((function(t){var n=e.config,a=O();e.response&&401===e.response.status&&e.config&&!e.config.__isRetryRequest&&a&&(n._retry=!0,t(fetch(g.authRefresh,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({refresh:O})}).then((function(e){return e.json()})).then((function(e){var t=JSON.parse(localStorage.getItem("currentUser"));t.access_token=e.access_token,y.updateUser(t),window.location.reload()}))));return Promise.reject(e)}))})),c.a.render(Object(P.jsx)(we.a,{value:{fetcher:function(e){return U.a.get(e,{headers:{Authorization:"Bearer "+f()}}).then((function(e){return e.data}))}},children:Object(P.jsx)(ct,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[275,1,2]]]);
//# sourceMappingURL=main.60c994ae.chunk.js.map